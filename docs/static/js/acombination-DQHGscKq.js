import{d as pe,r as _e,a as p,p as ee,n as ge,k as W,e as f,f as l,g as h,w as n,h as s,j as C,t as c,u as le,ex as me,ey as he,i as X,b as w,F as te,l as ae,dq as we,_ as ye}from"./index-BBwCsMxu.js";const j=($,N=" ")=>$.split(N).filter(o=>o!==""),be={class:"combination-demo-container"},xe={class:"content"},Ce={class:"result-info font-bold"},ke={key:0},Ve={key:1},Be={class:"canvas-container"},R="一 二 三 四",Oe=pe({__name:"acombination",setup($){const N=_e({width:600,height:400}),k=p(R),o=p(j(R)),i=p(2),F=p("permutation"),S=p(!1),P=p(800),V=p(!1),_=p([]),g=p(0),B=p([]),v=p(null),O=p(!1),G=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F06292","#7986CB","#9575CD","#64B5F6","#4DB6AC","#81C784","#FFD54F"],oe=ee(()=>o.value.length),A=ee(()=>_.value.length),D=a=>G[a%G.length],H=()=>{o.value=k.value.split(" ").map(a=>a.trim()).filter(a=>a.length>0),o.value.length===0&&(k.value=R,o.value=j(R)),i.value=Math.min(i.value,o.value.length)},ne=()=>{O.value||(_.value=[],F.value==="permutation"?S.value?K(o.value,i.value):J(o.value,i.value):S.value?Y(o.value,i.value):Q(o.value,i.value),_.value.length>0?(g.value=0,z(0)):we.warning("没有符合条件的排列组合"))},J=(a,e,u=[])=>{if(u.length===e){_.value.push([...u]);return}for(let t=0;t<a.length;t++)u.includes(a[t])||(u.push(a[t]),J(a,e,u),u.pop())},K=(a,e,u=[])=>{if(u.length===e){_.value.push([...u]);return}for(let t=0;t<a.length;t++)u.push(a[t]),K(a,e,u),u.pop()},Q=(a,e,u=0,t=[])=>{if(t.length===e){_.value.push([...t]);return}for(let d=u;d<a.length;d++)t.push(a[d]),Q(a,e,d+1,t),t.pop()},Y=(a,e,u=0,t=[])=>{if(t.length===e){_.value.push([...t]);return}for(let d=u;d<a.length;d++)t.push(a[d]),Y(a,e,d,t),t.pop()},z=a=>{if(a<0||a>=_.value.length)return;O.value=!0,B.value=[];const e=_.value[a],u=P.value,t=Date.now(),d=()=>{const E=Date.now()-t,b=Math.min(E/u,1);if(b<1)requestAnimationFrame(d);else{B.value=e,O.value=!1,v.value=null;return}const y=Math.floor(b*e.length);if(y<e.length){const U=e[y],M=o.value.indexOf(U),x=100+M*80,I=100+y*80;v.value={x:x+(I-x)*(b*e.length-y),y:100+200*(b*e.length-y),color:D(M),text:U},B.value=e.slice(0,y)}};d()},ue=()=>{g.value>0&&!O.value&&(g.value--,z(g.value))},se=()=>{g.value<_.value.length-1&&!O.value&&(g.value++,z(g.value))},ie=()=>{O.value||(k.value=R,o.value=j(R),i.value=2,F.value="permutation",S.value=!1,_.value=[],B.value=[],g.value=0)};return ge(o,()=>{i.value=Math.min(i.value,o.value.length)},{deep:!0}),H(),(a,e)=>{const u=s("el-switch"),t=s("el-form-item"),d=s("el-input"),E=s("el-slider"),b=s("el-radio-button"),y=s("el-radio-group"),U=s("el-form"),M=s("el-divider"),x=s("el-button"),I=s("el-icon"),re=s("el-button-group"),ve=s("el-card"),T=s("v-circle"),q=s("v-rect"),L=s("v-text"),Z=s("v-group"),de=s("v-arrow"),fe=s("v-layer"),ce=s("v-stage");return f(),W("div",be,[l(ve,{class:"control-panel"},{header:n(()=>e[6]||(e[6]=[h("div",{class:"card-header"},[h("span",null,"排列组合演示工具")],-1)])),default:n(()=>[h("div",xe,[e[9]||(e[9]=h("div",{class:"font-bold"},"参数设置：",-1)),l(U,{"label-width":"100px"},{default:n(()=>[l(t,{label:"是否圆形"},{default:n(()=>[l(u,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=r=>V.value=r),"active-text":"方型","inactive-text":"圆型"},null,8,["modelValue"])]),_:1}),l(t,{label:"元素集合"},{default:n(()=>[l(d,{modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=r=>k.value=r),placeholder:"输入元素，空格分隔",onChange:H},null,8,["modelValue"])]),_:1}),l(t,{label:`选择(${i.value}个)`,class:"flex flex-between"},{default:n(()=>[l(E,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value=r),min:1,max:oe.value,step:1},null,8,["modelValue","max"])]),_:1},8,["label"]),l(t,{label:"计算类型"},{default:n(()=>[l(y,{modelValue:F.value,"onUpdate:modelValue":e[3]||(e[3]=r=>F.value=r)},{default:n(()=>[l(b,{label:"permutation"},{default:n(()=>e[7]||(e[7]=[C("排列 (P)")])),_:1,__:[7]}),l(b,{label:"combination"},{default:n(()=>e[8]||(e[8]=[C("组合 (C)")])),_:1,__:[8]})]),_:1},8,["modelValue"])]),_:1}),l(t,{label:"是否重复"},{default:n(()=>[l(u,{modelValue:S.value,"onUpdate:modelValue":e[4]||(e[4]=r=>S.value=r),"active-text":"允许","inactive-text":"禁止"},null,8,["modelValue"])]),_:1}),l(t,{label:"动画速度"},{default:n(()=>[l(E,{modelValue:P.value,"onUpdate:modelValue":e[5]||(e[5]=r=>P.value=r),min:100,max:2e3,step:100},null,8,["modelValue"])]),_:1})]),_:1})]),l(M),l(x,{type:A.value>0?"success":"primary",onClick:ne},{default:n(()=>e[10]||(e[10]=[C("开始计算")])),_:1,__:[10]},8,["type"]),l(x,{onClick:ie},{default:n(()=>e[11]||(e[11]=[C("重置计算")])),_:1,__:[11]}),h("div",Ce,[h("p",null,"总可能性: "+c(A.value),1),h("p",null,"当前展示: "+c(g.value+1)+" / "+c(A.value),1),h("div",null,[e[12]||(e[12]=C(" 计算公式: ")),F.value==="permutation"?(f(),W("span",ke," P("+c(o.value.length)+", "+c(i.value)+") = "+c(o.value.length)+"! / ("+c(o.value.length)+" - "+c(i.value)+")! ",1)):(f(),W("span",Ve," C("+c(o.value.length)+", "+c(i.value)+") = "+c(o.value.length)+"! / ("+c(i.value)+"! × ("+c(o.value.length)+" - "+c(i.value)+")!) ",1))])]),l(re,{class:"nav-buttons"},{default:n(()=>[l(x,{disabled:g.value<=0,onClick:ue},{default:n(()=>[l(I,null,{default:n(()=>[l(le(me))]),_:1}),e[13]||(e[13]=C(" 上一个 "))]),_:1,__:[13]},8,["disabled"]),l(x,{disabled:g.value>=A.value-1,onClick:se},{default:n(()=>[e[14]||(e[14]=C(" 下一个 ")),l(I,null,{default:n(()=>[l(le(he))]),_:1})]),_:1,__:[14]},8,["disabled"])]),_:1})]),_:1}),h("div",Be,[l(ce,{ref:"stage",config:N},{default:n(()=>[l(fe,{ref:"layer"},{default:n(()=>[(f(!0),W(te,null,ae(o.value,(r,m)=>(f(),w(Z,{key:"element-"+m},{default:n(()=>[V.value?(f(),w(q,{key:1,config:{x:70+m*80,y:70,width:60,height:60,fill:D(m),cornerRadius:8,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])):(f(),w(T,{key:0,config:{x:100+m*80,y:100,radius:30,fill:D(m),strokeWidth:2,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])),l(L,{config:{x:70+m*80,y:92,text:r,fontSize:20,fill:"#fff",align:"center",width:60}},null,8,["config"])]),_:2},1024))),128)),l(de,{config:{points:[70,200,550,200],pointerLength:10,pointerWidth:10,fill:"rgb(76,152,237)",stroke:"rgb(61,135,216,0.6)",strokeWidth:5}}),B.value.length>0?(f(!0),W(te,{key:0},ae(B.value,(r,m)=>(f(),w(Z,{key:"result-"+m},{default:n(()=>[V.value?(f(),w(q,{key:1,config:{x:70+m*80,y:270,width:60,height:60,fill:D(o.value.indexOf(r)),cornerRadius:8,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])):(f(),w(T,{key:0,config:{x:100+m*80,y:300,radius:30,fill:D(o.value.indexOf(r)),strokeWidth:2,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])),l(L,{config:{x:70+m*80,y:292,text:r,fontSize:20,fill:"#fff",align:"center",width:60}},null,8,["config"])]),_:2},1024))),128)):X("",!0),!V.value&&v.value?(f(),w(T,{key:1,config:{x:v.value.x,y:v.value.y,radius:30,fill:v.value.color,strokeWidth:2,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])):V.value&&v.value?(f(),w(q,{key:2,config:{x:v.value.x-30,y:v.value.y-30,width:60,height:60,fill:v.value.color,cornerRadius:8,shadowColor:"black",shadowBlur:5,shadowOpacity:.3,shadowOffset:{x:2,y:2}}},null,8,["config"])):X("",!0),v.value?(f(),w(L,{key:3,config:{x:v.value.x-30,y:v.value.y-5,text:v.value.text,fontSize:20,fill:"#fff",align:"center",width:60}},null,8,["config"])):X("",!0)]),_:1},512)]),_:1},8,["config"])])])}}}),Fe=ye(Oe,[["__scopeId","data-v-bb7a1c4d"]]);export{Fe as default};
