var d=(r,s,a)=>new Promise((o,l)=>{var c=t=>{try{i(a.next(t))}catch(n){l(n)}},u=t=>{try{i(a.throw(t))}catch(n){l(n)}},i=t=>t.done?o(t.value):Promise.resolve(t.value).then(c,u);i((a=a.apply(r,s)).next())});import{y as m,r as p,o as f,c_ as h,cd as b,cx as v}from"./index-Dks_UUQM.js";import{d as W}from"./system-D0uSrF9F.js";function C(){const r=m({username:""}),s=p([]),a=p(!0),o=m({total:0,pageSize:10,currentPage:1,background:!0}),l=[{label:"序号",prop:"id",minWidth:60},{label:"用户名",prop:"username",minWidth:100},{label:"登录 IP",prop:"ip",minWidth:140},{label:"登录地点",prop:"address",minWidth:140},{label:"操作系统",prop:"system",minWidth:100},{label:"浏览器类型",prop:"browser",minWidth:100},{label:"登录时间",prop:"loginTime",minWidth:180,formatter:({loginTime:e})=>h(e).format("YYYY-MM-DD HH:mm:ss")},{label:"操作",fixed:"right",slot:"operation"}];function c(e){}function u(e){}function i(e){}function t(e){v(`${e.username}已被强制下线`,{type:"success"}),n()}function n(){return d(this,null,function*(){a.value=!0;const{data:e}=yield W(b(r));s.value=e.list,o.total=e.total,o.pageSize=e.pageSize,o.currentPage=e.currentPage,setTimeout(()=>{a.value=!1},500)})}const g=e=>{e&&(e.resetFields(),n())};return f(()=>{n()}),{form:r,loading:a,columns:l,dataList:s,pagination:o,onSearch:n,resetForm:g,handleOffline:t,handleSizeChange:c,handleCurrentChange:u,handleSelectionChange:i}}export{C as useRole};
