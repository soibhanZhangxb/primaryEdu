var ve=Object.defineProperty,ge=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var L=(s,n,a)=>n in s?ve(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,Q=(s,n)=>{for(var a in n||(n={}))be.call(n,a)&&L(s,a,n[a]);if(O)for(var a of O(n))Ce.call(n,a)&&L(s,a,n[a]);return s},X=(s,n)=>ge(s,xe(n));var H=(s,n,a)=>new Promise((g,h)=>{var x=m=>{try{i(a.next(m))}catch(u){h(u)}},b=m=>{try{i(a.throw(m))}catch(u){h(u)}},i=m=>m.done?g(m.value):Promise.resolve(m.value).then(x,b);i((a=a.apply(s,n)).next())});import{useRole as ke}from"./hook-DHgl9vCg.js";import{P as we}from"./index-BO08RdIf.js";import{u as f}from"./hooks-Bh53l9jd.js";import{a1 as ye,k as $,e as P,g as d,d as Ve,p as Re,a as v,m as Se,aQ as ze,x as De,aR as Ie,gV as $e,h as p,A as Pe,f as o,w as r,u as e,j as _,i as Ue,v as y,X as W,z as q,t as G,aE as V,_ as Be}from"./index-BPKU8qQX.js";import{D as Me}from"./delete-DIZbNFka.js";import{E as Ae}from"./edit-pen-DllUSeKw.js";import{R as Ee}from"./refresh-Cnw4ZbKT.js";import{A as Te}from"./add-circle-line-BPgOA1Ud.js";import{C as Ne}from"./close-CqQrOaR_.js";import{C as je}from"./check-BQscd5qi.js";import"./form.vue_vue_type_script_setup_true_lang--KRynmXB.js";import"./hooks-oo4cYqIf.js";import"./system-B1dSnWC3.js";import"./sortable.esm-VSgMS8pS.js";import"./epTheme-DgDmVX9w.js";import"./collapse-DJPNJDOG.js";const Fe={viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Oe(s,n){return P(),$("svg",Fe,n[0]||(n[0]=[d("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"},null,-1)]))}const Le=ye({name:"ep-menu",render:Oe}),Qe={class:"main"},Xe={key:0,class:"min-w-[calc(100vw-60vw-268px)]! w-full mt-2 px-2 pb-2 bg-bg_color ml-2 overflow-auto"},He={class:"flex justify-between w-full px-3 pt-5 pb-4"},We={class:"flex"},qe={class:"font-bold truncate"},Ge={class:"flex flex-wrap"},Je=Ve({name:"SystemRole",__name:"index",setup(s){const n=Re(()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-hidden","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"]),a=v(),g=v(),h=v(),x=v(),b=v(),{form:i,isShow:m,curRow:u,loading:U,columns:J,rowStyle:K,dataList:Y,treeData:Z,treeProps:ee,isLinkage:C,pagination:le,isExpandAll:R,isSelectAll:S,treeSearchValue:z,onSearch:B,resetForm:oe,openDialog:M,handleMenu:A,handleSave:te,handleDelete:ne,filterMethod:ae,transformI18n:re,onQueryChanged:se,handleSizeChange:ie,handleCurrentChange:pe,handleSelectionChange:me}=ke(a);return Se(()=>{ze(x,()=>H(null,null,function*(){yield De(),Ie(60).then(()=>{b.value=parseFloat($e(h.value.getTableDoms().tableWrapper.style.height,"px"))})}))}),(Ke,l)=>{var j;const D=p("el-input"),k=p("el-form-item"),E=p("el-option"),de=p("el-select"),c=p("el-button"),ue=p("el-form"),ce=p("el-popconfirm"),fe=p("pure-table"),T=p("IconifyIconOffline"),I=p("el-checkbox"),_e=p("el-tree-v2"),N=Pe("tippy");return P(),$("div",Qe,[o(ue,{ref_key:"formRef",ref:g,inline:!0,model:e(i),class:"search-form bg-bg_color w-full pl-8 pt-[12px] overflow-auto"},{default:r(()=>[o(k,{label:"角色名称：",prop:"name"},{default:r(()=>[o(D,{modelValue:e(i).name,"onUpdate:modelValue":l[0]||(l[0]=t=>e(i).name=t),placeholder:"请输入角色名称",clearable:"",class:"w-[180px]!"},null,8,["modelValue"])]),_:1}),o(k,{label:"角色标识：",prop:"code"},{default:r(()=>[o(D,{modelValue:e(i).code,"onUpdate:modelValue":l[1]||(l[1]=t=>e(i).code=t),placeholder:"请输入角色标识",clearable:"",class:"w-[180px]!"},null,8,["modelValue"])]),_:1}),o(k,{label:"状态：",prop:"status"},{default:r(()=>[o(de,{modelValue:e(i).status,"onUpdate:modelValue":l[2]||(l[2]=t=>e(i).status=t),placeholder:"请选择状态",clearable:"",class:"w-[180px]!"},{default:r(()=>[o(E,{label:"已启用",value:"1"}),o(E,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(k,null,{default:r(()=>[o(c,{type:"primary",icon:e(f)("ri/search-line"),loading:e(U),onClick:e(B)},{default:r(()=>l[9]||(l[9]=[_(" 搜索 ")])),_:1,__:[9]},8,["icon","loading","onClick"]),o(c,{icon:e(f)(e(Ee)),onClick:l[3]||(l[3]=t=>e(oe)(g.value))},{default:r(()=>l[10]||(l[10]=[_(" 重置 ")])),_:1,__:[10]},8,["icon"])]),_:1})]),_:1},8,["model"]),d("div",{ref_key:"contentRef",ref:x,class:y(["flex",e(W)()?"flex-wrap":""])},[o(e(we),{class:y([e(m)&&!e(W)()?"w-[60vw]!":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"角色管理（仅演示，操作后不生效）",columns:e(J),onRefresh:e(B)},{buttons:r(()=>[o(c,{type:"primary",icon:e(f)(e(Te)),onClick:l[4]||(l[4]=t=>e(M)())},{default:r(()=>l[11]||(l[11]=[_(" 新增角色 ")])),_:1,__:[11]},8,["icon"])]),default:r(({size:t,dynamicColumns:he})=>[o(fe,{ref_key:"tableRef",ref:h,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(U),size:t,adaptive:"","row-style":e(K),adaptiveConfig:{offsetBottom:108},data:e(Y),columns:he,pagination:X(Q({},e(le)),{size:t}),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(me),onPageSizeChange:e(ie),onPageCurrentChange:e(pe)},{operation:r(({row:w})=>[o(c,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Ae)),onClick:F=>e(M)("修改",w)},{default:r(()=>l[12]||(l[12]=[_(" 修改 ")])),_:2,__:[12]},1032,["size","icon","onClick"]),o(ce,{title:`是否确认删除角色名称为${w.name}的这条数据`,onConfirm:F=>e(ne)(w)},{reference:r(()=>[o(c,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Me))},{default:r(()=>l[13]||(l[13]=[_(" 删除 ")])),_:2,__:[13]},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(c,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Le)),onClick:F=>e(A)(w)},{default:r(()=>l[14]||(l[14]=[_(" 权限 ")])),_:2,__:[14]},1032,["size","icon","onClick"])]),_:2},1032,["loading","size","row-style","data","columns","pagination","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["class","columns","onRefresh"]),e(m)?(P(),$("div",Xe,[d("div",He,[d("div",We,[d("span",{class:y(n.value)},[q(o(T,{class:"dark:text-white",width:"18px",height:"18px",icon:e(Ne),onClick:e(A)},null,8,["icon","onClick"]),[[N,{content:"关闭"}]])],2),d("span",{class:y([n.value,"ml-2"])},[q(o(T,{class:"dark:text-white",width:"18px",height:"18px",icon:e(je),onClick:e(te)},null,8,["icon","onClick"]),[[N,{content:"保存菜单权限"}]])],2)]),d("p",qe," 菜单权限 "+G(`${(j=e(u))!=null&&j.name?`（${e(u).name}）`:""}`),1)]),o(D,{modelValue:e(z),"onUpdate:modelValue":l[5]||(l[5]=t=>V(z)?z.value=t:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:e(se)},null,8,["modelValue","onInput"]),d("div",Ge,[o(I,{modelValue:e(R),"onUpdate:modelValue":l[6]||(l[6]=t=>V(R)?R.value=t:null),label:"展开/折叠"},null,8,["modelValue"]),o(I,{modelValue:e(S),"onUpdate:modelValue":l[7]||(l[7]=t=>V(S)?S.value=t:null),label:"全选/全不选"},null,8,["modelValue"]),o(I,{modelValue:e(C),"onUpdate:modelValue":l[8]||(l[8]=t=>V(C)?C.value=t:null),label:"父子联动"},null,8,["modelValue"])]),o(_e,{ref_key:"treeRef",ref:a,"show-checkbox":"",data:e(Z),props:e(ee),height:b.value,"check-strictly":!e(C),"filter-method":e(ae)},{default:r(({node:t})=>[d("span",null,G(e(re)(t.label)),1)]),_:1},8,["data","props","height","check-strictly","filter-method"])])):Ue("",!0)],2)])}}}),_l=Be(Je,[["__scopeId","data-v-31da16d7"]]);export{_l as default};
