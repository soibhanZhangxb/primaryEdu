import{d as Ce,a as C,r as Fe,p as x,m as Pe,k,e as u,g as e,j,z as K,e1 as ie,t as E,F,l as P,f as o,w as L,h as M,v as Ae,gz as We,b,i as V,u as T,_ as Se}from"./index-DtWb8qEC.js";import{s as Q}from"./index-I7thvi85.js";const Ee={class:"bg-gradient-to-br from-light to-gray-100 min-h-screen font-sans text-dark"},$e={class:"container mx-auto"},Be={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Le={class:"lg:col-span-1"},Ve={class:"bg-white rounded-xl p-6 card-shadow h-full"},ze={class:"space-y-6"},De={class:"flex items-center"},Ie={id:"angle-value",class:"ml-3 text-lg font-medium text-primary min-w-[3rem] text-right"},je={class:"grid grid-cols-2 gap-4"},Re={class:"border-t border-gray-200 pt-4"},qe={class:"flex items-center justify-between"},He={class:"border-t border-gray-200 pt-4"},Ne={class:"space-y-2"},Je=["onUpdate:modelValue"],Ue={class:"ml-2 text-gray-500"},Ye={class:"lg:col-span-2"},Ge={class:"bg-white rounded-xl p-6 card-shadow mb-6 relative"},Xe={id:"trig-container",class:"bg-gray-50 rounded-lg overflow-hidden relative h-[500px]"},Oe={class:"grid grid-cols-1 gap-4 mb-6 absolute",style:{top:"80px",right:"0",width:"300px"}},Ke={class:"bg-white rounded-xl p-4 card-shadow"},Qe={class:"text-2xl font-bold text-primary flex items-center justify-between"},Ze={class:"bg-white rounded-xl p-4 card-shadow"},et={class:"text-2xl font-bold text-orange-400 flex items-center justify-between"},tt={class:"bg-white rounded-xl p-4 card-shadow"},nt={class:"text-2xl font-bold text-red-400 flex items-center justify-between"},st={class:"bg-white rounded-xl p-6 card-shadow"},ot={id:"wave-container",class:"w-full h-[250px] bg-gray-50 rounded-lg overflow-hidden relative"},lt={class:"bg-dark text-white",style:{margin:"20px 30px 10px"}},R=500,q=500,A=800,_=250,m=180,at=Ce({name:"JTrig",__name:"jtrig",setup(it){const a=R/2,l=q/2,y=C(30),z=C(!1),W=C(!1),$=C(null),H=C(5),h=Fe({showSine:[!0,"显示正弦线 (sin) - 对边比斜边 - 绿线"],showCosine:[!0,"显示余弦线 (cos) - 邻边比斜边 - 橙线"],showTangent:[!0,"显示正切线 (tan) - 对边比邻边 - 红线"],showCotangent:[!0,"显示余切线 (ctan) - 邻边比对边 - 紫线"],showLabels:[!0,"显示标签"]}),re=[0,30,45,60,90,180],w=x(()=>y.value*Math.PI/180),ce=x(()=>Math.sin(w.value).toFixed(3)),ue=x(()=>Math.cos(w.value).toFixed(3)),de=x(()=>Math.abs(Math.cos(w.value))<.01?y.value%180===90?"∞":"-∞":Math.tan(w.value).toFixed(3)),N=C(""),J=C(""),U=C(""),S=x(()=>a+m*Math.cos(w.value)),D=x(()=>l-m*Math.sin(w.value)),Z=x(()=>{const n=y.value;return n>=0&&n<=90?{x:a+40,y:l-40}:n>90&&n<=180?{x:a-100,y:l-40}:n>180&&n<=270?{x:a-100,y:l+20}:{x:a+40,y:l+20}}),fe=x(()=>{const c=_/2,i=A/(360*2),s=[];for(let d=0;d<=360*2;d++){const f=d*i,p=d*Math.PI/180,B=c-80*Math.sin(p);s.push(f,B)}return s}),ge=x(()=>{const c=_/2,i=A/(360*2),s=[];for(let d=0;d<=360*2;d++){const f=d*i,p=d*Math.PI/180,B=c-80*Math.cos(p);s.push(f,B)}return s}),ee=x(()=>{const g=A/720;return y.value%360*g}),ve=x(()=>[a,l,S.value,D.value]),te=x(()=>h.showSine[0]?[S.value,D.value,S.value,l]:[]),ne=x(()=>h.showCosine[0]?[a,l,S.value,l]:[]),Y=x(()=>{if(!h.showTangent[0]||Math.abs(Math.cos(w.value))<.01)return[];const n=l-m*Math.tan(w.value);return[a+m,l,a+m,n]}),se={0:{sin:"0",cos:"1",tan:"0"},30:{sin:"\\frac{1}{2}",cos:"\\frac{\\sqrt{3}}{2}",tan:"\\frac{\\sqrt{3}}{3}"},45:{sin:"\\frac{\\sqrt{2}}{2}",cos:"\\frac{\\sqrt{2}}{2}",tan:"1"},60:{sin:"\\frac{\\sqrt{3}}{2}",cos:"\\frac{1}{2}",tan:"\\sqrt{3}"},90:{sin:"1",cos:"0",tan:"\\text{未定义}"},180:{sin:"0",cos:"-1",tan:"0"}},I=n=>{if(y.value=Math.max(0,Math.min(360,Math.round(n))),n=Math.round(n),se.hasOwnProperty(n)){const t=se[n];N.value=`$$\\sin ${n}^\\circ = ${t.sin}$$`,J.value=`$$\\cos ${n}^\\circ = ${t.cos}$$`,U.value=`$$\\tan ${n}^\\circ = ${t.tan}$$`}else N.value=J.value=U.value=""},pe=()=>{W.value=!W.value,W.value?oe():$.value&&(cancelAnimationFrame($.value),$.value=null)},oe=()=>{W.value&&(I((y.value+1)%360),$.value=requestAnimationFrame(()=>{setTimeout(oe,1e3/H.value)}))},G=()=>{z.value=!0},X=()=>{z.value=!1},O=n=>{const t=n.target.getStage().getPointerPosition();if(!t)return;const g=t.x-a,c=t.y-l;let s=Math.atan2(-c,g)*180/Math.PI;s<0&&(s+=360),I(s)},xe=n=>{if(W.value)return;const t=n.target.getStage().getPointerPosition();if(!t)return;const g=t.x-a,c=t.y-l;let s=Math.atan2(-c,g)*180/Math.PI;s<0&&(s+=360),I(s)};Pe(()=>(window.addEventListener("resize",le),()=>{window.removeEventListener("resize",le),$.value&&cancelAnimationFrame($.value)}));const le=()=>{},he=()=>{const n=[],t=[],g=[],c=[],d=Math.floor(R/60);for(let f=-d;f<=d;f++){const p=a+f*60;n.push({points:[p,l-5,p,l+5],stroke:"#9CA3AF",strokeWidth:1}),t.push({x:p-10,y:l+15,text:f.toString(),fontSize:10,fill:"#6B7280"})}for(let f=-d;f<=d;f++){const p=l+f*60;g.push({points:[a-5,p,a+5,p],stroke:"#9CA3AF",strokeWidth:1}),c.push({x:a-20,y:p-5,text:(-f).toString(),fontSize:10,fill:"#6B7280"})}return{xTicks:n,xLabels:t,yTicks:g,yLabels:c}},me=()=>{const n=[0,30,45,60,90,120,135,150,180,210,225,240,270,300,315,330],t=[],g=[];return n.forEach(c=>{const i=c*Math.PI/180,s=a+m*Math.cos(i),d=l-m*Math.sin(i);t.push({x:s,y:d,radius:3,fill:"#9CA3AF"}),[0,30,45,60,90,180,270].includes(c)&&g.push({x:s+(c===90||c===270?5:0),y:d+(c===0?15:c===180?-15:0),text:`${c}°`,fontSize:12,fill:"#6B7280"})}),{markers:t,labels:g}},{xTicks:ye,xLabels:be,yTicks:ke,yLabels:_e}=he(),{markers:we,labels:Me}=me();return(n,t)=>{const g=M("el-button"),c=M("v-circle"),i=M("v-line"),s=M("v-text"),d=M("v-arc"),f=M("v-layer"),p=M("v-stage"),B=M("v-rect"),Te=M("el-divider");return u(),k("div",Ee,[e("main",$e,[e("div",Be,[e("div",Le,[e("div",Ve,[t[8]||(t[8]=e("h2",{class:"text-xl font-bold mb-4 flex items-center"},[e("i",{class:"fa fa-sliders text-primary mr-2"}),j(" 角度控制 ")],-1)),e("div",ze,[e("div",null,[t[4]||(t[4]=e("label",{for:"angle",class:"block text-sm font-medium text-gray-700 mb-1"},"旋转角度 (θ):",-1)),e("div",De,[K(e("input",{id:"angle","onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),type:"range",min:"0",max:"360",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"},null,512),[[ie,y.value]]),e("span",Ie,E(y.value)+"°",1)])]),e("div",je,[(u(),k(F,null,P(re,(r,v)=>o(g,{key:v,class:"angle-btn bg-primary/10 hover:bg-primary/20 text-primary py-2 px-4 rounded-lg transition-colors",style:{padding:"4px","margin-left":"12px","background-color":"#c8c4c496"},onClick:ae=>I(r)},{default:L(()=>[j(E(r)+"° ",1)]),_:2},1032,["onClick"])),64))]),e("div",Re,[t[6]||(t[6]=e("h3",{class:"font-medium mb-2"},"动画选项",-1)),e("div",qe,[t[5]||(t[5]=e("label",{for:"animation-speed",class:"text-sm text-gray-700"},"动画速度:",-1)),K(e("input",{id:"animation-speed","onUpdate:modelValue":t[1]||(t[1]=r=>H.value=r),type:"range",min:"1",max:"10",class:"w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-secondary"},null,512),[[ie,H.value]])]),e("button",{class:Ae(["mt-3 w-full py-2 px-10 rounded-lg transition-colors flex items-center justify-center",W.value?"bg-red-400 text-white":"bg-green-400 text-white"]),style:{padding:"4px"},onClick:pe},E(W.value?"暂停动画":"开始动画"),3)]),e("div",He,[t[7]||(t[7]=e("h3",{class:"font-medium mb-5"},"显示选项",-1)),e("div",Ne,[(u(!0),k(F,null,P(h,(r,v)=>(u(),k("label",{key:v,class:"flex items-center"},[K(e("input",{"onUpdate:modelValue":ae=>r[0]=ae,type:"checkbox",class:"w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded"},null,8,Je),[[We,r[0]]]),e("span",Ue,E(r[1]),1)]))),128))])])])])]),e("div",Ye,[e("div",Ge,[t[12]||(t[12]=e("h2",{class:"text-xl font-bold mb-4 flex items-center"},[e("i",{class:"fa fa-area-chart text-primary mr-2"}),j(" 初中三角函数互动演示 - "),e("span",{style:{"margin-left":"10px","font-size":"12px",color:"#9ca3af"}}," 探索正弦、余弦和正切函数的几何意义")],-1)),e("div",Xe,[o(p,{config:{width:R,height:q}},{default:L(()=>[o(f,null,{default:L(()=>[o(c,{config:{x:a,y:l,radius:m,stroke:"#E5E7EB",strokeWidth:2,dash:[5,5]}},null,8,["config"]),o(i,{config:{points:[0,l,R,l],stroke:"#9CA3AF",strokeWidth:1}},null,8,["config"]),o(i,{config:{points:[a,0,a,q],stroke:"#9CA3AF",strokeWidth:1}},null,8,["config"]),(u(!0),k(F,null,P(T(ye),(r,v)=>(u(),b(i,{key:"x-tick-"+v,config:r},null,8,["config"]))),128)),(u(!0),k(F,null,P(T(be),(r,v)=>(u(),b(s,{key:"x-label-"+v,config:r},null,8,["config"]))),128)),(u(!0),k(F,null,P(T(ke),(r,v)=>(u(),b(i,{key:"y-tick-"+v,config:r},null,8,["config"]))),128)),(u(!0),k(F,null,P(T(_e),(r,v)=>(u(),b(s,{key:"y-label-"+v,config:r},null,8,["config"]))),128)),(u(!0),k(F,null,P(T(we),(r,v)=>(u(),b(c,{key:"angle-marker-"+v,config:r},null,8,["config"]))),128)),(u(!0),k(F,null,P(T(Me),(r,v)=>(u(),b(s,{key:"angle-label-"+v,config:r},null,8,["config"]))),128)),o(c,{config:{x:a,y:l,radius:m+20,fill:"transparent",stroke:"transparent"},onClick:xe,onMousedown:G,onMouseup:X,onMousemove:t[2]||(t[2]=r=>z.value&&O),onTouchstart:G,onTouchend:X,onTouchmove:t[3]||(t[3]=r=>z.value&&O)},null,8,["config"]),o(i,{config:{points:ve.value,stroke:"#3B82F6",strokeWidth:3,lineCap:"round",lineJoin:"round"}},null,8,["config"]),o(c,{config:{x:S.value,y:D.value,radius:9,fill:"#3B82F6",stroke:"white",strokeWidth:1.5,draggable:!0},onDragstart:G,onDragend:X,onDragmove:O},null,8,["config"]),o(d,{config:{x:a,y:l,innerRadius:10,outerRadius:30,clockwise:!0,angle:-y.value,fill:"#3B82F6",opacity:.3}},null,8,["config"]),h.showLabels[0]?(u(),b(s,{key:0,config:{x:Z.value.x,y:Z.value.y,text:`θ = ${y.value}°`,fontSize:14,fill:"#3B82F6"}},null,8,["config"])):V("",!0),o(i,{config:{points:te.value,stroke:"#10B981",strokeWidth:3,lineCap:"round",lineJoin:"round"}},null,8,["config"]),o(i,{config:{points:ne.value,stroke:"#F59E0B",strokeWidth:3,lineCap:"round",lineJoin:"round"}},null,8,["config"]),o(i,{config:{points:Y.value,stroke:"#EF4444",strokeWidth:3,lineCap:"round",lineJoin:"round"}},null,8,["config"]),h.showTangent[0]&&Math.abs(Math.cos(w.value))>=.01?(u(),b(i,{key:1,config:{points:[a+m,0,a+m,q],stroke:"#EF4444",strokeWidth:1,dash:[3,3]}},null,8,["config"])):V("",!0),h.showSine[0]&&h.showLabels[0]&&te.value.length>0?(u(),b(s,{key:2,config:{x:S.value+5,y:(D.value+l)/2,text:"sin(θ)",fontSize:14,fill:"#10B981"}},null,8,["config"])):V("",!0),h.showCosine[0]&&h.showLabels[0]&&ne.value.length>0?(u(),b(s,{key:3,config:{x:(a+S.value)/2,y:l-20,text:"cos(θ)",fontSize:14,fill:"#F59E0B"}},null,8,["config"])):V("",!0),h.showTangent[0]&&h.showLabels[0]&&Y.value.length>0?(u(),b(s,{key:4,config:{x:a+m+5,y:(l+Y.value[3])/2,text:"tan(θ)",fontSize:14,fill:"#EF4444"}},null,8,["config"])):V("",!0)]),_:1})]),_:1},8,["config"])]),e("div",Oe,[e("div",Ke,[t[9]||(t[9]=e("div",{class:"flex items-center justify-between mb-2"},[e("h3",{class:"font-medium text-gray-700"},"正弦值 - 绿线"),e("span",{class:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full"},"sin(θ)")],-1)),e("div",Qe,[e("h3",null,E(ce.value),1),o(T(Q),{formula:N.value},null,8,["formula"])])]),e("div",Ze,[t[10]||(t[10]=e("div",{class:"flex items-center justify-between mb-2"},[e("h3",{class:"font-medium text-gray-700"},"余弦值 - 橙线"),e("span",{class:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full"},"cos(θ)")],-1)),e("div",et,[e("h3",null,E(ue.value),1),o(T(Q),{formula:J.value},null,8,["formula"])])]),e("div",tt,[t[11]||(t[11]=e("div",{class:"flex items-center justify-between mb-2"},[e("h3",{class:"font-medium text-gray-700"},"正切值 - 红线"),e("span",{class:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded-full"},"tan(θ)")],-1)),e("div",nt,[e("h3",null,E(de.value),1),o(T(Q),{formula:U.value},null,8,["formula"])])])])]),e("div",st,[t[13]||(t[13]=e("h2",{class:"text-xl font-bold mb-4 flex items-center"},[e("i",{class:"fa fa-line-chart text-primary mr-2"}),j(" 三角函数曲线 ")],-1)),e("div",ot,[o(p,{config:{width:A,height:_}},{default:L(()=>[o(f,null,{default:L(()=>[o(B,{config:{x:0,y:0,width:A,height:_,fill:"#F9FAFB"}},null,8,["config"]),o(i,{config:{points:[0,_/2,A,_/2],stroke:"#9CA3AF",strokeWidth:1}},null,8,["config"]),o(i,{config:{points:[0,0,0,_],stroke:"#9CA3AF",strokeWidth:1}},null,8,["config"]),o(i,{config:{points:fe.value,stroke:"#10B981",strokeWidth:2,tension:.5}},null,8,["config"]),o(i,{config:{points:ge.value,stroke:"#F59E0B",strokeWidth:2,tension:.5}},null,8,["config"]),o(i,{config:{points:[ee.value,0,ee.value,_],stroke:"#3B82F6",strokeWidth:2,dash:[3,3]}},null,8,["config"]),o(s,{config:{x:A-100,y:_/2-40,text:"sin(θ)",fontSize:14,fill:"#10B981"}},null,8,["config"]),o(s,{config:{x:A-100,y:_/2-20,text:"cos(θ)",fontSize:14,fill:"#F59E0B"}},null,8,["config"])]),_:1})]),_:1},8,["config"])])])])])]),e("footer",lt,[t[14]||(t[14]=e("div",{class:"mb-4 md:mb-0 text-center"},[e("span",{class:"text-lg font-semibold",style:{color:"#3b82f6"}}," 初中三角函数互动演示 "),e("span",{class:"text-gray-400 text-sm mt-1"}," 探索正弦、余弦和正切函数的几何意义 ")],-1)),o(Te)])])}}}),ut=Se(at,[["__scopeId","data-v-20d3a9ea"]]);export{ut as default};
