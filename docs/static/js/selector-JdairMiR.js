import{d as E,k as M,cm as k,n as A,A as o,a as $,bB as I,bW as D,dO as n,dP as i,j as F,bG as T,r as L,C as R,f as K,g as C,bC as j,m as z,z as B,bE as G,bF as p,h as O,B as P}from"./index-4iHgqUda.js";const h="stay",f="hs-on",m="hs-off",_="hs-range",g="both-left-sides",S="both-right-sides";let w="right",v=[],s=[];const W={HsKey:{type:Number||String,default:0},disabled:{type:Boolean,default:!1},value:{type:Number,default:0},max:{type:Array,default(){return[1,2,3,4,5,6,7,8,9,10]}},echo:{type:Array,default(){return[]}}},J=E({name:"ReSelector",props:W,emits:["selectedVal"],setup(l,{emit:y}){const a=F(),b=l.value,q=M(()=>l.disabled),u=M(()=>{const e=[];let t=0,r=b;for(b!==Math.floor(b)&&r--;t<r;t++)e.push(f);for(;t<l.max.length;t++)e.push(m);return e}),H=e=>{if(!l.disabled){if(s.length===1){v.length<1&&v.push({index:e});let t=v[0].index;if(e>t)for(w="right",D(!1,S,document.querySelector(".hs-select__item"+s[0].index));e>=t;)n(document.querySelector(".hs-select__item"+t),_),t++;else for(w="left",D(!0,S,document.querySelector(".hs-select__item"+s[0].index));e<=t;)n(document.querySelector(".hs-select__item"+t),_),t--}n(document.querySelector("."+m+e),f)}},x=e=>{if(l.disabled)return;const t=document.querySelector("."+m+e);if(t.className.includes(h))return!1;if(i(t,f),s.length===1){const r=v[0].index;if(e>=r)for(let c=0;c<=e;c++)i(document.querySelector(".hs-select__item"+c),_);else for(;e<=r;)i(document.querySelector(".hs-select__item"+e),_),e++}},d=(e,t)=>{if(l.disabled)return;const r=s.length;r<2?(s.push({item:t,index:e}),n(document.querySelector("."+m+e),h),n(document.querySelector(".hs-select__item"+s[0].index),g),s[1]&&(w==="right"?n(document.querySelector(".hs-select__item"+s[1].index),S):n(document.querySelector(".hs-select__item"+s[1].index),g)),r===1&&(w==="right"?y("selectedVal",{left:s[0].item,right:s[1].item,whole:s}):y("selectedVal",{left:s[1].item,right:s[0].item,whole:s}))):A(()=>{s.forEach(c=>{i(document.querySelector("."+m+c.index),f,h),i(document.querySelector(".hs-select__item"+c.index),g,S)}),s=[],v=[];for(let c=0;c<=l.max.length;c++){const N=document.querySelector(".hs-select__item"+c);N&&i(N,_)}s.push({item:t,index:e}),n(document.querySelector("."+m+e),h),n(document.querySelector(".hs-select__item"+s[0].index),g)})},V=e=>{if(e.length!==0){if(e.length>2||e.length===1)throw"传入的数组长度必须是2";for(e.sort((t,r)=>t-r),n(a.refs["hsdiv"+l.HsKey+e[0]],f,h),n(a.refs["hstd"+l.HsKey+e[0]],g),n(a.refs["hsdiv"+l.HsKey+e[1]],f,h),n(a.refs["hstd"+l.HsKey+e[1]],S);e[1]>=e[0];)n(a.refs["hstd"+l.HsKey+e[0]],_),e[0]++}};return k(()=>{A(()=>{V(l.echo)})}),()=>o(I,null,[o("table",{cellspacing:"0",cellpadding:"0"},[o("tbody",null,[o("tr",null,[l.max.map((e,t)=>o("td",{"data-index":l.HsKey,ref:`hstd${l.HsKey}${t}`,class:`hs-select__item${t}`,onMousemove:()=>H(t),onMouseleave:()=>x(t),onClick:()=>d(t,e),style:{cursor:$(q)?"auto":"pointer",textAlign:"center"},key:t},[o("div",{ref:`hsdiv${l.HsKey}${t}`,class:`hs-item ${[$(u)[t]+t]}`},[o("span",null,[e])])]))])])])])}}),Q=T(J),U={class:"font-medium"},X={key:0,class:"mt-3!"},Z=E({name:"Selector",__name:"selector",setup(l){const y=L(""),a=L([{title:"基础用法",echo:[],disabled:!1},{title:"回显模式",echo:[2,7],disabled:!0}]),b=({left:q,right:u})=>{y.value=`${q}-${u}`};return(q,u)=>{const H=R("el-link"),x=R("el-card");return C(),K("div",null,[(C(!0),K(I,null,j(a.value,(d,V)=>(C(),z(x,{key:V,class:"mb-2",shadow:"never"},{header:B(()=>[O("p",U,p(d.title),1),o(H,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/selector.vue",target:"_blank"},{default:B(()=>u[0]||(u[0]=[P(" 代码位置 src/views/components/selector.vue ")])),_:1,__:[0]})]),default:B(()=>[o($(Q),{HsKey:V,echo:d.echo,disabled:d.disabled,onSelectedVal:b},null,8,["HsKey","echo","disabled"]),d.disabled?G("",!0):(C(),K("h4",X,"选中范围："+p(y.value),1))]),_:2},1024))),128))])}}});export{Z as default};
