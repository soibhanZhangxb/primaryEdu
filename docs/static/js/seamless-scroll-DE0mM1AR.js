import{d as ae,r as y,dL as Y,k as r,a as e,dM as Ae,dN as Me,f as $,g as F,bE as ie,h as w,v as le,t as S,ch as I,n as Oe,ca as Fe,bG as $e,y as He,C as H,m as Pe,z as b,A,bB as Be,bC as je,bF as De,B as Ee,_ as qe}from"./index-CK63t3SI.js";const ze=()=>{window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){return window.clearTimeout(a)},window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}()},Le=(a,d)=>{if(a===d)return!0;if(a.length!==d.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==d[u])return!1;return!0};function re(){Array.isArray||(Array.isArray=function(C){return Object.prototype.toString.call(C)==="[object Array]"});let a,d,u,f,p,m,l=1,t=arguments[0]||{},i=!1,v=arguments.length;if(typeof t=="boolean"&&(i=t,t=arguments[1]||{},l++),typeof t!="object"&&typeof t!="function"&&(t={}),l===v)return t;for(;l<v;l++)if((d=arguments[l])!=null)for(a in d)u=t[a],f=d[a],p=Array.isArray(f),i&&f&&(typeof f=="object"||p)?(p?(p=!1,m=u&&Array.isArray(u)?u:[]):m=u&&typeof u=="object"?u:{},t[a]=re(i,m,f)):f!==void 0&&(t[a]=f);return t}const Re=Object.freeze(Object.defineProperty({__proto__:null,animationFrame:ze,arrayEqual:Le,copyObj:re},Symbol.toStringTag,{value:"Module"})),We=["innerHTML"],Ne=ae({name:"ReSeamlessScroll",__name:"index",props:{data:{type:Array},classOption:{type:Object}},emits:["scrollEnd"],setup(a,{expose:d,emit:u}){const{animationFrame:f,copyObj:p}=Re;f();const m=a,l=u,t=y(0),i=y(0),v=y(0),C=y(0),h=y(0),k=y(0),P=y(0),B=y("");let x=null,V=null,j=null,U=null,X=null,D=!1,E="ease-in";m.classOption.key===void 0&&(m.classOption.key=0);const G=Y(`wrap${m.classOption.key}`,null),J=Y(`slotList${m.classOption.key}`,null),K=Y(`realBox${m.classOption.key}`,null),Q=r(()=>e(t)<0),Z=r(()=>Math.abs(e(t))<e(k)-e(h)),ce=r(()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:"top",openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1})),o=r(()=>p({},e(ce),m.classOption)),ue=r(()=>e(Q)?"":e(o).switchDisabledClass),fe=r(()=>e(Z)?"":e(o).switchDisabledClass),me=r(()=>({position:"absolute",margin:`${e(C)/2}px 0 0 -${e(o).switchOffset}px`,transform:"translate(-100%,-50%)"})),de=r(()=>({position:"absolute",margin:`${e(C)/2}px 0 0 ${e(h)+e(o).switchOffset}px`,transform:"translateY(-50%)"})),q=r(()=>e(o).direction!=="bottom"&&e(o).direction!=="top"),ee=r(()=>e(q)?{float:"left",overflow:"hidden"}:{overflow:"hidden"}),pe=r(()=>({transform:`translate(${e(t)}px,${e(i)}px)`,transition:`all ${E} ${e(v)}ms`,overflow:"hidden"})),z=r(()=>e(o).navigation),L=r(()=>e(z)?!1:e(o).autoPlay),te=r(()=>m.data.length>=e(o).limitMoveNum),ne=r(()=>e(o).hoverStop&&e(L)&&e(te)),R=r(()=>e(o).openTouch),oe=r(()=>e(o).isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1),W=r(()=>e(o).singleWidth*e(oe)),N=r(()=>e(o).singleHeight*e(oe)),_=r(()=>{let n;const s=e(o).step;if(e(q)?n=e(W):n=e(N),n>0&&n%s>0)throw"如果设置了单步滚动，step需是单步大小的约数，否则无法保证单步滚动结束的位置是否准确";return s});function ve(){t.value=0,i.value=0,M(),se()}function he(){if(e(Q)){if(Math.abs(e(t))<e(o).switchSingleStep){t.value=0;return}t.value+=e(o).switchSingleStep}}function we(){if(e(Z)){if(e(k)-e(h)+e(t)<e(o).switchSingleStep){t.value=e(h)-e(k);return}t.value-=e(o).switchSingleStep}}function M(){cancelAnimationFrame(V||"")}function ye(n){if(!e(R))return;let s;const c=n.targetTouches[0],{waitTime:g,singleHeight:O,singleWidth:xe}=e(o);j={x:c.pageX,y:c.pageY},U=e(i),X=e(t),O&&xe?(s&&clearTimeout(s),s=setTimeout(()=>{M()},g+20)):M()}function ge(n){if(!e(R)||n.targetTouches.length>1||n.scale&&n.scale!==1)return;const s=n.targetTouches[0],{direction:c}=e(o),g={x:s.pageX-j.x,y:s.pageY-j.y};n.preventDefault();const O=Math.abs(g.x)<Math.abs(g.y)?1:0;O===1&&c==="bottom"||O===1&&c==="top"?i.value=U+g.y:(O===0&&c==="left"||O===0&&c==="right")&&(t.value=X+g.x)}function be(){if(!e(R))return;let n;const s=e(o).direction;if(v.value=50,s==="top")e(i)>0&&(i.value=0);else if(s==="bottom"){const c=e(P)/2*-1;e(i)<c&&(i.value=c)}else if(s==="left")e(t)>0&&(t.value=0);else if(s==="right"){const c=e(k)*-1;e(t)<c&&(t.value=c)}n&&clearTimeout(n),n=setTimeout(()=>{v.value=0,T()},e(v))}function Se(){e(ne)&&Te()}function ke(){e(ne)&&_e()}function T(){D||(V=requestAnimationFrame(function(){const n=e(P)/2,s=e(k)/2,{direction:c,waitTime:g}=e(o);c==="top"?(Math.abs(e(i))>=n&&(l("scrollEnd"),i.value=0),i.value-=_.value):c==="bottom"?(e(i)>=0&&(l("scrollEnd"),i.value=n*-1),i.value+=_.value):c==="left"?(Math.abs(e(t))>=s&&(l("scrollEnd"),t.value=0),t.value-=_.value):c==="right"&&(e(t)>=0&&(l("scrollEnd"),t.value=s*-1),t.value+=_.value),x&&clearTimeout(x),e(N)?Math.abs(e(i))%e(N)<e(_)?x=setTimeout(()=>{T()},g):T():e(W)&&Math.abs(e(t))%e(W)<e(_)?x=setTimeout(()=>{T()},g):T()}))}function se(){Oe(()=>{const{switchDelay:n}=e(o);if(B.value="",e(q)){C.value=e(G).offsetHeight,h.value=e(G).offsetWidth;let s=e(J).offsetWidth;e(L)&&(s=s*2+1),e(K).style.width=s+"px",k.value=s}if(e(L))E="ease-in",v.value=0;else{E="linear",v.value=n;return}e(te)?(B.value=e(J).innerHTML,setTimeout(()=>{var s;P.value=(s=e(K))==null?void 0:s.offsetHeight,T()},0)):(M(),i.value=t.value=0)})}function _e(){D=!1,T()}function Te(){D=!0,x&&clearTimeout(x),M()}function Ce(n){e(o).direction==="left"||e(o).direction==="right"||Fe(()=>{n.deltaY>0?i.value-=_.value:i.value+=_.value},50)()}return Ae(()=>{se()}),Me(()=>{M(),clearTimeout(x)}),d({reset:ve}),(n,s)=>(F(),$("div",{ref:"wrap"+a.classOption.key},[z.value?(F(),$("div",{key:0,style:S(me.value),class:le(ue.value),onClick:he},[I(n.$slots,"left-switch")],6)):ie("",!0),z.value?(F(),$("div",{key:1,style:S(de.value),class:le(fe.value),onClick:we},[I(n.$slots,"right-switch")],6)):ie("",!0),w("div",{ref:"realBox"+a.classOption.key,style:S(pe.value),onMouseenter:Se,onMouseleave:ke,onTouchstartPassive:ye,onTouchmovePassive:ge,onTouchend:be,onMousewheelPassive:Ce},[w("div",{ref:"slotList"+a.classOption.key,style:S(ee.value)},[I(n.$slots,"default")],4),w("div",{style:S(ee.value),innerHTML:B.value},null,12,We)],36)],512))}}),Ye=$e(Ne),Ie={class:"card-header"},Ve={class:"item"},Ue=["textContent"],Xe=ae({name:"SeamlessScroll",__name:"seamless-scroll",setup(a){const d=y(),u=y([{title:"无缝滚动第一行无缝滚动第一行！！！！！！！！！！"},{title:"无缝滚动第二行无缝滚动第二行！！！！！！！！！！"},{title:"无缝滚动第三行无缝滚动第三行！！！！！！！！！！"},{title:"无缝滚动第四行无缝滚动第四行！！！！！！！！！！"},{title:"无缝滚动第五行无缝滚动第五行！！！！！！！！！！"},{title:"无缝滚动第六行无缝滚动第六行！！！！！！！！！！"},{title:"无缝滚动第七行无缝滚动第七行！！！！！！！！！！"},{title:"无缝滚动第八行无缝滚动第八行！！！！！！！！！！"},{title:"无缝滚动第九行无缝滚动第九行！！！！！！！！！！"}]),f=He({direction:"top"});function p(m){e(d).reset(),e(f).direction=m}return(m,l)=>{const t=H("el-button"),i=H("el-link"),v=H("el-card"),C=H("el-space");return F(),Pe(C,{wrap:""},{default:b(()=>[A(v,{class:"box-card",shadow:"never"},{header:b(()=>[w("div",Ie,[l[4]||(l[4]=w("span",{class:"font-medium"},"无缝滚动",-1)),A(t,{class:"button",link:"",type:"primary",onClick:l[0]||(l[0]=h=>p("top"))},{default:b(()=>[w("span",{style:S({color:f.direction==="top"?"red":""})}," 向上滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[1]||(l[1]=h=>p("bottom"))},{default:b(()=>[w("span",{style:S({color:f.direction==="bottom"?"red":""})}," 向下滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[2]||(l[2]=h=>p("left"))},{default:b(()=>[w("span",{style:S({color:f.direction==="left"?"red":""})}," 向左滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[3]||(l[3]=h=>p("right"))},{default:b(()=>[w("span",{style:S({color:f.direction==="right"?"red":""})}," 向右滚动 ",4)]),_:1})]),A(i,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/seamless-scroll.vue",target:"_blank"},{default:b(()=>l[5]||(l[5]=[Ee(" 代码位置 src/views/components/seamless-scroll.vue ")])),_:1,__:[5]})]),default:b(()=>[A(e(Ye),{ref_key:"scroll",ref:d,data:u.value,"class-option":f,class:"warp"},{default:b(()=>[w("ul",Ve,[(F(!0),$(Be,null,je(u.value,(h,k)=>(F(),$("li",{key:k},[w("span",{class:"title",textContent:De(h.title)},null,8,Ue)]))),128))])]),_:1},8,["data","class-option"])]),_:1})]),_:1})}}}),Je=qe(Xe,[["__scopeId","data-v-ff2abade"]]);export{Je as default};
