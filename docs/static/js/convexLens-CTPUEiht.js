import{d as ye,r as _,k as e,o as We,f as W,g as f,h as o,A as n,bF as h,C as d,v as Me,z as y,m as p,bE as M,bB as z,bC as B,_ as Fe}from"./index-BbWQ1fjE.js";const Le={class:"lens-demo-container"},Ce={class:"control-panel"},Se={class:"slider-container"},$e={class:"label"},Ye={class:"params-display"},Ie={class:"canvas-container"},t=400,ze=ye({__name:"convexLens",setup(Be){const l=_(15),x=_(50),k=_(300),F=_(300),R=_({width:800,height:400}),r=e(()=>Math.abs((t-k.value)/10)),m=e(()=>r.value===l.value?1/0:1/(1/l.value-1/r.value)),s=e(()=>isFinite(m.value)?-m.value/r.value:1),D=e(()=>r.value>2*l.value?"倒立、缩小的实像":r.value===2*l.value?"倒立、等大的实像":r.value>l.value?"倒立、放大的实像":r.value===l.value?"不成像（平行光）":"正立、放大的虚像"),j=e(()=>r.value>l.value?"real-image":r.value<l.value?"virtual-image":"no-image"),H=e(()=>r.value>l.value),w=e(()=>r.value<l.value),L=e(()=>isFinite(m.value)?t+m.value*10:0),V=e(()=>300),C=e(()=>t-Math.abs(m.value)*10),X=e(()=>300),Q=e(()=>({points:[50,300,750,300],stroke:"#666",strokeWidth:2,lineCap:"round",lineJoin:"round"})),A=e(()=>({points:[t,200,t,350],stroke:"#666",strokeWidth:2,lineCap:"round",lineJoin:"round"})),N=e(()=>{const u=[];for(let a=0;a<=80;a+=10)u.push({points:[50+a*10,295,50+a*10,305],stroke:"#666",strokeWidth:1});return u}),T=e(()=>{const u=[];for(let a=0;a<=80;a+=10){let c=Math.abs(a<=40?40-a:a-40).toString();u.push({x:45+a*10,y:310,text:c,fontSize:12,fill:"#333"})}return u}),E=e(()=>({data:`
    M ${t-20} 250
    Q ${t} 240 ${t+20} 250
    Q ${t+20+10} 300 ${t+20} 350
    Q ${t} 360 ${t-20} 350
    Q ${t-20-10} 300 ${t-20} 250
    Z
  `,fill:"rgba(200, 200, 255, 0.3)",stroke:"#333",strokeWidth:2})),J=e(()=>({points:[t-l.value*10,290,t-l.value*10,310],stroke:"#f56c6c",strokeWidth:2})),P=e(()=>({points:[t-2*l.value*10,290,t-2*l.value*10,310],stroke:"#e6a23c",strokeWidth:2})),O=e(()=>({points:[t+l.value*10,290,t+l.value*10,310],stroke:"#f56c6c",strokeWidth:2})),U=e(()=>({points:[t+2*l.value*10,290,t+2*l.value*10,310],stroke:"#e6a23c",strokeWidth:2})),Z=e(()=>({x:t-l.value*10-5,y:315,text:"F",fontSize:14,fill:"#f56c6c",fontStyle:"bold"})),q=e(()=>({x:t-2*l.value*10-10,y:315,text:"2F",fontSize:14,fill:"#e6a23c",fontStyle:"bold"})),G=e(()=>({x:t+l.value*10-5,y:315,text:"F",fontSize:14,fill:"#f56c6c",fontStyle:"bold"})),K=e(()=>({x:t+2*l.value*10-10,y:315,text:"2F",fontSize:14,fill:"#e6a23c",fontStyle:"bold"})),ee=e(()=>({x:t-5,y:280,text:"O",fontSize:14,fill:"#333",fontStyle:"bold"})),te=e(()=>({points:[0,0,0,-40],stroke:"#8c8c8c",strokeWidth:3})),ne=e(()=>({x:-10,y:-40,width:20,height:40,fill:"#ffccc7",stroke:"#ff4d4f",strokeWidth:2})),le=e(()=>({x:0,y:-60,radius:8,fill:"#ffa940",stroke:"#ff7a45",strokeWidth:1})),ae=e(()=>({points:[0,-68,0,-75],stroke:"#ffa940",strokeWidth:2,lineCap:"round"})),oe=e(()=>({x:k.value-15,y:315,text:"物体",fontSize:14,fill:"#ff4d4f"})),se=e(()=>{const u=[],a=k.value,c=F.value-75;return u.push({points:[a,c,t,c],stroke:"#1890ff",strokeWidth:1.5,lineCap:"round"}),r.value>l.value?(u.push({points:[t,c,t+l.value*10,300],stroke:"#1890ff",strokeWidth:1.5}),u.push({points:[a,c,t,300],stroke:"#52c41a",strokeWidth:1.5}),u.push({points:[t,300,L.value,V.value-75*Math.abs(s.value)],stroke:"#52c41a",strokeWidth:1.5})):r.value<l.value&&(u.push({points:[t,c,t-l.value*10,300],stroke:"#1890ff",strokeWidth:1.5,dash:[5,5]}),u.push({points:[a,c,t,300],stroke:"#52c41a",strokeWidth:1.5}),u.push({points:[t,300,C.value,X.value-75*Math.abs(s.value)],stroke:"#52c41a",strokeWidth:1.5,dash:[5,5]})),u}),ue=e(()=>({points:[0,0,0,-40*Math.abs(s.value)],stroke:"#8c8c8c",strokeWidth:3})),ie=e(()=>({x:-10,y:-40*Math.abs(s.value),width:20,height:40*Math.abs(s.value),fill:"#91d5ff",stroke:"#1890ff",strokeWidth:2})),re=e(()=>({x:0,y:-60*Math.abs(s.value),radius:8*Math.abs(s.value),fill:"#69c0ff",stroke:"#1890ff",strokeWidth:1})),ce=e(()=>({points:[0,-68*Math.abs(s.value),0,-75*Math.abs(s.value)],stroke:"#69c0ff",strokeWidth:2,lineCap:"round"})),fe=e(()=>({x:L.value-15,y:315,text:"实像",fontSize:14,fill:"#1890ff"})),ve=e(()=>({points:[0,0,0,-40*Math.abs(s.value)],stroke:"#8c8c8c",strokeWidth:3,dash:[5,5]})),ge=e(()=>({x:-10,y:-40*Math.abs(s.value),width:20,height:40*Math.abs(s.value),fill:"rgba(179, 127, 235, 0.7)",stroke:"#9254de",strokeWidth:2,dash:[5,5]})),de=e(()=>({x:0,y:-60*Math.abs(s.value),radius:8*Math.abs(s.value),fill:"rgba(146, 84, 222, 0.7)",stroke:"#722ed1",strokeWidth:1,dash:[5,5]})),he=e(()=>({points:[0,-68*Math.abs(s.value),0,-75*Math.abs(s.value)],stroke:"#9254de",strokeWidth:2,lineCap:"round",dash:[5,5]})),pe=e(()=>({x:C.value-15,y:315,text:"虚像",fontSize:14,fill:"#722ed1"})),ke=e(()=>({x:20,y:370,text:"提示: 可以直接拖动蜡烛来改变位置",fontSize:14,fill:"#666",fontStyle:"italic"})),me=u=>{const a=u.target.x();k.value=a,x.value=Math.round((a-50)/10),S()},S=()=>{k.value=50+x.value*10};return We(()=>{S()}),(u,a)=>{const c=d("el-slider"),i=d("v-line"),v=d("v-text"),xe=d("v-path"),$=d("v-rect"),Y=d("v-circle"),I=d("v-group"),be=d("v-layer"),_e=d("v-stage");return f(),W("div",Le,[o("div",Ce,[a[1]||(a[1]=o("h2",null,"凸透镜成像原理演示",-1)),o("div",Se,[o("span",$e,"蜡烛位置: "+h(x.value)+" (单位: cm)",1),n(c,{modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=g=>x.value=g),min:10,max:90,step:1,onInput:S},null,8,["modelValue"])]),o("div",Ye,[o("p",null,"焦距: "+h(l.value)+" cm",1),o("p",null,"物距: "+h(r.value)+" cm",1),o("p",null,"像距: "+h(Math.abs(m.value).toFixed(2))+" cm",1),o("p",null," 放大率: "+h(Math.abs(s.value).toFixed(2))+" × "+h(s.value>0?"正立":"倒立"),1),o("p",{class:Me(j.value)},h(D.value),3)]),a[2]||(a[2]=o("div",{class:"image-info"},[o("h3",null,"成像规律"),o("ul",null,[o("li",null,"物距 > 2倍焦距: 倒立缩小的实像"),o("li",null,"物距 = 2倍焦距: 倒立等大的实像"),o("li",null,"物距在1-2倍焦距之间: 倒立放大的实像"),o("li",null,"物距 = 焦距: 不成像（平行光）"),o("li",null,"物距 "+h("<")+" 焦距: 正立放大的虚像")])],-1))]),o("div",Ie,[n(_e,{ref:"stage",config:R.value},{default:y(()=>[n(be,null,{default:y(()=>[n(i,{config:Q.value},null,8,["config"]),n(i,{config:A.value},null,8,["config"]),(f(!0),W(z,null,B(N.value,(g,b)=>(f(),p(i,{key:"x-mark-"+b,config:g},null,8,["config"]))),128)),(f(!0),W(z,null,B(T.value,(g,b)=>(f(),p(v,{key:"x-label-"+b,config:g},null,8,["config"]))),128)),n(xe,{config:E.value},null,8,["config"]),n(i,{config:J.value},null,8,["config"]),n(i,{config:P.value},null,8,["config"]),n(i,{config:O.value},null,8,["config"]),n(i,{config:U.value},null,8,["config"]),n(v,{config:Z.value},null,8,["config"]),n(v,{config:q.value},null,8,["config"]),n(v,{config:G.value},null,8,["config"]),n(v,{config:K.value},null,8,["config"]),n(v,{config:ee.value},null,8,["config"]),n(I,{config:{x:k.value,y:F.value,draggable:!0,dragBoundFunc:g=>({x:Math.max(60,Math.min(g.x,t-20)),y:F.value})},onDragmove:me},{default:y(()=>[n(i,{config:te.value},null,8,["config"]),n($,{config:ne.value},null,8,["config"]),n(Y,{config:le.value},null,8,["config"]),n(i,{config:ae.value},null,8,["config"])]),_:1},8,["config"]),(f(!0),W(z,null,B(se.value,(g,b)=>(f(),p(i,{key:"ray-"+b,config:g},null,8,["config"]))),128)),H.value?(f(),p(I,{key:0,config:{x:L.value,y:V.value}},{default:y(()=>[n(i,{config:ue.value},null,8,["config"]),n($,{config:ie.value},null,8,["config"]),n(Y,{config:re.value},null,8,["config"]),n(i,{config:ce.value},null,8,["config"])]),_:1},8,["config"])):M("",!0),w.value?(f(),p(I,{key:1,config:{x:C.value,y:X.value}},{default:y(()=>[n(i,{config:ve.value},null,8,["config"]),n($,{config:ge.value},null,8,["config"]),n(Y,{config:de.value},null,8,["config"]),n(i,{config:he.value},null,8,["config"])]),_:1},8,["config"])):M("",!0),n(v,{config:oe.value},null,8,["config"]),H.value?(f(),p(v,{key:2,config:fe.value},null,8,["config"])):M("",!0),w.value?(f(),p(v,{key:3,config:pe.value},null,8,["config"])):M("",!0),n(v,{config:ke.value},null,8,["config"])]),_:1})]),_:1},8,["config"])])])}}}),we=Fe(ze,[["__scopeId","data-v-b76e3a37"]]);export{we as default};
